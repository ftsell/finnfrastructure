# networking config
ip: "{{ private_ipv4 }}"
access_ip: "{{ private_ipv4 }}"
enable_nodelocaldns: false
kube_proxy_strict_arp: true
kube_network_plugin: kube-router
kube_router_run_router: true
kube_router_run_firewall: false
kube_router_run_service_proxy: false

# container runtime config
container_manager: crio
crio_pids_limit: 4096

# add custom domain to generated ssl certs so that we can easily address the cluster from the outside
supplementary_addresses_in_ssl_keys: [ "{{ hostvars['k8s-api'].public_dns }}" ]

# disable kubespray on-host proxy to the api server because we don't need it, and it's very kubespray specific and
# non-standard when compared to other kubernetes distributions
loadbalancer_apiserver_localhost: false
